!function($,t,i,e){function s(t,i){this.$element=$(t),this.init()}var o="scrolly2";s.prototype.init=function(){var i=this;this.startPosition=0,this.offsetTop=this.$element.offset().top,this.height=this.$element.outerHeight(!0),this.velocity=this.$element.attr("data-velocity"),this.direction=this.$element.attr("data-direction"),this.bgAlign=this.$element.attr("data-bg-align"),this.xPos="50%",this.yPos="50%","up"===this.direction||"down"===this.direction?"left"===this.bgAlign?this.xPos="0":"right"===this.bgAlign&&(this.xPos="100%"):("left"===this.direction||"right"===this.direction)&&("top"===this.bgAlign?this.yPos="0":"bottom"===this.bgAlign&&(this.yPos="100%")),$(t).bind("scroll",function(){i.scrolly2()})},s.prototype.scrolly2=function(){var i=$(t).scrollTop()-20,e=$(t).scrollTop()+$(t).height()+20,s=this.$element.offset().top,o=this.$element.offset().top+this.$element.height();if(!(s>=e||i>=o)){if(this.$element.find("[id^=video-]").length>0)return void this.$element.css("backgroundImage","none");this.$element.offset().top>$(t).height()&&"none"!==this.direction&&(this.startPosition=(this.$element.offset().top-$(t).height())*Math.abs(this.velocity));var h=this.startPosition+$(t).scrollTop()*this.velocity,n=this.xPos,l=this.yPos;if("up"===this.direction||"down"===this.direction?"left"===this.bgAlign?this.xPos=this.$element.offset().left+"px":"right"===this.bgAlign&&(this.xPos="calc(100% - "+($(t).width()-this.$element.offset().left-this.$element.width())+"px)"):("left"===this.direction||"right"===this.direction)&&("top"===this.bgAlign?this.yPos="0":"bottom"===this.bgAlign&&(this.yPos="100%")),"left"===this.direction)n=h+"px";else if("right"===this.direction)n="calc(100% + "+-h+"px)";else if("down"===this.direction){var r=-($(t).height()-this.$element.offset().top-this.$element.height()-parseInt(this.$element.css("paddingTop"))-parseInt(this.$element.css("paddingBottom")));l="calc(100% + "+(r-$(t).scrollTop()-h)+"px)"}else l=this.$element.offset().top-$(t).scrollTop()+h+"px";this.$element.css({backgroundPosition:n+" "+l})}},$.fn[o]=function(t){return this.each(function(){$.data(this,"plugin_"+o)||$.data(this,"plugin_"+o,new s(this,t))})}}(jQuery,window,document);